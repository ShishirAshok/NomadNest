{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shish\\\\HostelProject\\\\client\\\\src\\\\components\\\\user\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport { Avatar, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, TextField } from '@mui/material';\nimport { Close, Send } from '@mui/icons-material';\nimport { useValue } from '../../context/ContextProvider';\nimport { useRef } from 'react';\nimport { updateProfile } from '../../actions/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    state: {\n      profile,\n      currentUser\n    },\n    dispatch\n  } = useValue();\n  const nameRef = useRef();\n  const handleClose = () => {\n    dispatch({\n      type: 'UPDATE_PROFILE',\n      payload: {\n        ...profile,\n        open: false\n      }\n    });\n  };\n  const handleChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const photoURL = URL.createObjectURL(file);\n      dispatch({\n        type: 'UPDATE_PROFILE',\n        payload: {\n          ...profile,\n          file,\n          photoURL\n        }\n      });\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const name = nameRef.current.value;\n    updateProfile(currentUser, {\n      name,\n      file: profile.file\n    }, dispatch);\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: profile.open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Profile\", /*#__PURE__*/_jsxDEV(IconButton, {\n        sx: {\n          position: 'absolute',\n          top: 8,\n          right: 8,\n          color: theme => theme.palette.grey[500]\n        },\n        onClick: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"You can update your profile by updating these fields:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"normal\",\n          variant: \"standard\",\n          id: \"name\",\n          label: \"Name\",\n          type: \"text\",\n          fullWidth: true,\n          inputRef: nameRef,\n          inputProps: {\n            minLength: 2\n          },\n          required: true,\n          defaultValue: currentUser === null || currentUser === void 0 ? void 0 : currentUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profilePhoto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*\",\n            id: \"profilePhoto\",\n            type: \"file\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            src: profile.photoURL,\n            sx: {\n              width: 75,\n              height: 75,\n              cursor: 'pointer'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          px: '19px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          endIcon: /*#__PURE__*/_jsxDEV(Send, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 64\n          }, this),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n};\n_s(Profile, \"YVNZiK1nylvAMB3QpMHn0p/Qe50=\", false, function () {\n  return [useValue];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["Avatar","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","TextField","Close","Send","useValue","useRef","updateProfile","jsxDEV","_jsxDEV","Profile","_s","state","profile","currentUser","dispatch","nameRef","handleClose","type","payload","open","handleChange","e","file","target","files","photoURL","URL","createObjectURL","handleSubmit","preventDefault","name","current","value","onClose","children","sx","position","top","right","color","theme","palette","grey","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","dividers","autoFocus","margin","variant","id","label","fullWidth","inputRef","inputProps","minLength","required","defaultValue","htmlFor","accept","style","display","onChange","src","width","height","cursor","px","endIcon","_c","$RefreshReg$"],"sources":["C:/Users/shish/HostelProject/client/src/components/user/Profile.js"],"sourcesContent":["import {\r\n    Avatar,\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n    IconButton,\r\n    TextField,\r\n  } from '@mui/material';\r\nimport { Close, Send } from '@mui/icons-material';\r\nimport { useValue } from '../../context/ContextProvider';\r\nimport { useRef } from 'react';\r\nimport { updateProfile } from '../../actions/user';\r\n\r\n  \r\n  const Profile = () => {\r\n    const {\r\n      state: { profile, currentUser },\r\n      dispatch,\r\n    } = useValue();\r\n    const nameRef = useRef();\r\n  \r\n    const handleClose = () => {\r\n      dispatch({ type: 'UPDATE_PROFILE', payload: { ...profile, open: false } });\r\n    };\r\n  \r\n    const handleChange = (e) => {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        const photoURL = URL.createObjectURL(file);\r\n        dispatch({\r\n          type: 'UPDATE_PROFILE',\r\n          payload: { ...profile, file, photoURL },\r\n        });\r\n      }\r\n    };\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      const name = nameRef.current.value;\r\n      updateProfile(currentUser, { name, file: profile.file }, dispatch);\r\n      \r\n    };\r\n    return (\r\n      <Dialog open={profile.open} onClose={handleClose}>\r\n        <DialogTitle>\r\n          Profile\r\n          <IconButton\r\n            sx={{\r\n              position: 'absolute',\r\n              top: 8,\r\n              right: 8,\r\n              color: (theme) => theme.palette.grey[500],\r\n            }}\r\n            onClick={handleClose}\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <form onSubmit={handleSubmit}>\r\n          <DialogContent dividers>\r\n            <DialogContentText>\r\n              You can update your profile by updating these fields:\r\n            </DialogContentText>\r\n  \r\n            <TextField\r\n              autoFocus\r\n              margin=\"normal\"\r\n              variant=\"standard\"\r\n              id=\"name\"\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              fullWidth\r\n              inputRef={nameRef}\r\n              inputProps={{ minLength: 2 }}\r\n              required\r\n              defaultValue={currentUser?.name}\r\n            />\r\n            <label htmlFor=\"profilePhoto\">\r\n              <input\r\n                accept=\"image/*\"\r\n                id=\"profilePhoto\"\r\n                type=\"file\"\r\n                style={{ display: 'none' }}\r\n                onChange={handleChange}\r\n              />\r\n              <Avatar\r\n                src={profile.photoURL}\r\n                sx={{ width: 75, height: 75, cursor: 'pointer' }}\r\n              />\r\n            </label>\r\n          </DialogContent>\r\n          <DialogActions sx={{ px: '19px' }}>\r\n            <Button type=\"submit\" variant=\"contained\" endIcon={<Send />}>\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    );\r\n  };\r\n  \r\n  export default Profile;\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}