{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shish\\\\HostelProject\\\\client\\\\src\\\\context\\\\ContextProvider.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useReducer, useRef } from 'react';\nimport reducer from './reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  currentUser: null,\n  openLogin: false,\n  loading: false,\n  alert: {\n    open: false,\n    severity: 'info',\n    message: ''\n  },\n  profile: {\n    open: false,\n    file: null,\n    photoURL: ''\n  },\n  images: [],\n  details: {\n    title: '',\n    description: '',\n    price: 0\n  },\n  location: {\n    lng: 0,\n    lat: 0\n  },\n  updatedRoom: null,\n  deletedImages: [],\n  addedImages: [],\n  rooms: [],\n  priceFilter: 50,\n  addressFilter: null,\n  filteredRooms: [],\n  room: null,\n  users: [],\n  section: 0\n};\nconst Context = /*#__PURE__*/createContext(initialState);\nexport const useValue = () => {\n  _s();\n  return useContext(Context);\n};\n_s(useValue, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst ContextProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const mapRef = useRef();\n  const containerRef = useRef();\n  useEffect(() => {\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if (currentUser) {\n      dispatch({\n        type: 'UPDATE_USER',\n        payload: currentUser\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (state.currentUser) {\n      const room = JSON.parse(localStorage.getItem(state.currentUser.id));\n      if (room) {\n        dispatch({\n          type: 'UPDATE_LOCATION',\n          payload: room.location\n        });\n        dispatch({\n          type: 'UPDATE_DETAILS',\n          payload: room.details\n        });\n        dispatch({\n          type: 'UPDATE_IMAGES',\n          payload: room.images\n        });\n        dispatch({\n          type: 'UPDATE_UPDATED_ROOM',\n          payload: room.updatedRoom\n        });\n        dispatch({\n          type: 'UPDATE_DELETED_IMAGES',\n          payload: room.deletedImages\n        });\n        dispatch({\n          type: 'UPDATE_ADDED_IMAGES',\n          payload: room.addedImages\n        });\n      }\n    }\n  }, [state.currentUser]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      state,\n      dispatch,\n      mapRef,\n      containerRef\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s2(ContextProvider, \"6SoN+vVGblGuzhcxVfT88iCJpRg=\");\n_c = ContextProvider;\nexport default ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","useRef","reducer","jsxDEV","_jsxDEV","initialState","currentUser","openLogin","loading","alert","open","severity","message","profile","file","photoURL","images","details","title","description","price","location","lng","lat","updatedRoom","deletedImages","addedImages","rooms","priceFilter","addressFilter","filteredRooms","room","users","section","Context","useValue","_s","ContextProvider","_ref","_s2","children","state","dispatch","mapRef","containerRef","JSON","parse","localStorage","getItem","type","payload","id","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/shish/HostelProject/client/src/context/ContextProvider.js"],"sourcesContent":["import {createContext,useContext,useEffect,useReducer,useRef} from 'react';\r\nimport reducer from './reducer';\r\n\r\nconst initialState = {\r\n  currentUser: null,\r\n  openLogin: false,\r\n  loading: false,\r\n  alert: { open: false, severity: 'info', message: '' },\r\n  profile: { open: false, file: null, photoURL: '' },\r\n  images: [],\r\n  details: { title: '', description: '', price: 0 },\r\n  location: { lng: 0, lat: 0 },\r\n  updatedRoom: null,\r\n  deletedImages: [],\r\n  addedImages: [],\r\n  rooms: [],\r\n  priceFilter: 50,\r\n  addressFilter: null,\r\n  filteredRooms: [],\r\n  room: null,\r\n  users: [],\r\n  section: 0,\r\n};\r\n\r\nconst Context = createContext(initialState);\r\n\r\nexport const useValue = () => {\r\n  return useContext(Context);\r\n};\r\n\r\nconst ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const mapRef = useRef();\r\n  const containerRef = useRef();\r\n  useEffect(() => {\r\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    if (currentUser) {\r\n      dispatch({ type: 'UPDATE_USER', payload: currentUser });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (state.currentUser) {\r\n      const room = JSON.parse(localStorage.getItem(state.currentUser.id));\r\n      if (room) {\r\n        dispatch({ type: 'UPDATE_LOCATION', payload: room.location });\r\n        dispatch({ type: 'UPDATE_DETAILS', payload: room.details });\r\n        dispatch({ type: 'UPDATE_IMAGES', payload: room.images });\r\n        dispatch({ type: 'UPDATE_UPDATED_ROOM', payload: room.updatedRoom });\r\n        dispatch({\r\n          type: 'UPDATE_DELETED_IMAGES',\r\n          payload: room.deletedImages,\r\n        });\r\n        dispatch({ type: 'UPDATE_ADDED_IMAGES', payload: room.addedImages });\r\n      }\r\n    }\r\n  }, [state.currentUser]);\r\n  return (\r\n    <Context.Provider value={{ state, dispatch, mapRef, containerRef }}>\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default ContextProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}